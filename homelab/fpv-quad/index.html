<!DOCTYPE html>
<html lang="en-us">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YZ04D85XM2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-YZ04D85XM2');
  </script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 2.4.0">
  <meta name="generator" content="Hugo 0.53" />
  <meta name="author" content="Bogdan Penkovsky">

  
  
  
  
    
  
  <meta name="description" content="It has been a while since I was thinking about upgrading my drone to a first person view version aka FPV. The idea was placing a camera for video streaming in real time. My first attempt was with a small raspi board and streaming image data from a raspi camera via WiFi. Because of the latency, range, and complicated setup this solution was not very practical.
Therefore, I decided to make a &quot;real&quot; FPV drone.">

  
  <link rel="alternate" hreflang="en-us" href="https://penkovsky.com/homelab/fpv-quad/">

  


  

  
  
  
  <meta name="theme-color" content="#0095eb">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/abap.min.css" crossorigin="anonymous">
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="https://penkovsky.com/index.xml" type="application/rss+xml" title="Bogdan Penkovsky, PhD">
  <link rel="feed" href="https://penkovsky.com/index.xml" type="application/rss+xml" title="Bogdan Penkovsky, PhD">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://penkovsky.com/homelab/fpv-quad/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Bogdan Penkovsky, PhD">
  <meta property="og:url" content="https://penkovsky.com/homelab/fpv-quad/">
  <meta property="og:title" content="A Quadcopter From Scratch: FPV Upgrade | Bogdan Penkovsky, PhD">
  <meta property="og:description" content="It has been a while since I was thinking about upgrading my drone to a first person view version aka FPV. The idea was placing a camera for video streaming in real time. My first attempt was with a small raspi board and streaming image data from a raspi camera via WiFi. Because of the latency, range, and complicated setup this solution was not very practical.
Therefore, I decided to make a &quot;real&quot; FPV drone."><meta property="og:image" content="https://penkovsky.com/img/quad/quad5.jpg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2022-02-17T00:10:00&#43;02:00">
  
  <meta property="article:modified_time" content="2022-02-17T00:10:00&#43;02:00">
  

  

  

  <title>A Quadcopter From Scratch: FPV Upgrade | Bogdan Penkovsky, PhD</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Bogdan Penkovsky, PhD</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        
        
        
        
        

        <li class="nav-item">
          <a href="/">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/neural-networks">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
            
          
        

        <li class="nav-item">
          <a href="https://scholar.google.co.uk/citations?user=NrD1h9QAAAAJ" target="_blank" rel="noopener">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#talks">
            
            <span>Talks</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  
<div class="article-header">
  
  
    <img src="/img/quad/quad5.jpg" class="article-banner" itemprop="image">
  

  
</div>



  <div class="article-container">
    <h1 itemprop="name">A Quadcopter From Scratch: FPV Upgrade</h1>

    

<div class="article-metadata">

  
  
  
  <div>
    
    <span itemscope itemprop="author" itemtype="http://schema.org/Person">
      <span itemprop="name">Bogdan Penkovsky</span>
    </span>
    
  </div>
  

  <span class="article-date">
    
    <meta content="2022-02-17 00:10:00 &#43;0200 &#43;0200" itemprop="datePublished">
    <time datetime="2022-02-17 00:10:00 &#43;0200 &#43;0200" itemprop="dateModified">
      Feb 17, 2022
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Bogdan Penkovsky">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="https://penkovsky.com/categories/homelab/">Homelab</a>
    
  </span>
  
  

  
  

  

</div>


    <div class="article-style" itemprop="articleBody">
      

<p>It has been a while since I was thinking about upgrading
<a href="/homelab/quadcopter/">my drone</a> to a first person view version
aka <em>FPV</em>. The idea was placing a camera for video streaming in real time. My
first attempt was with a small raspi board and streaming image data from a raspi
camera via WiFi.  Because of the latency, range, and complicated setup this
solution was not very practical.</p>

<p>Therefore, I decided to make a &quot;real&quot; FPV drone.</p>

<hr />

<p>The jargon and some technical details were explained in the previous post.
Before you continue, you may want to read it first:</p>

<ul>
<li><a href="/homelab/quadcopter/">A Quadcopter From Scratch</a></li>
</ul>

<hr />

<h3 id="fpv-components">FPV Components</h3>

<table>
<thead>
<tr>
<th>Part</th>
<th>Qty</th>
<th>Unit W. (g)</th>
<th>Price (EUR)</th>
</tr>
</thead>

<tbody>
<tr>
<td>FPV micro camera</td>
<td>1</td>
<td>8.6*</td>
<td>50.67</td>
</tr>

<tr>
<td>Video transmitter (analog)</td>
<td>1</td>
<td>12*</td>
<td>47.92</td>
</tr>

<tr>
<td>MMCX antenna</td>
<td>1</td>
<td>3.1</td>
<td>10.23</td>
</tr>

<tr>
<td>FPV monitor or goggles</td>
<td>1</td>
<td>-</td>
<td>106.31</td>
</tr>
</tbody>
</table>

<p><small>* Weight without cables.
</small></p>

<p>Note that you can easily find cheaper versions of those. For instance,
a camera and VTX combo can cost under 40 EUR in total.</p>

<figure>

<img src="/img/quad/quad3.jpg" alt="Basic FPV: Connecting camera directly to VTX" width="600" />



<figcaption data-pre="Figure " data-post=":" >
  <h4></h4>
  <p>
    Basic FPV: Connecting camera directly to VTX
    
    
    
  </p> 
</figcaption>

</figure>

<p>Technically these components are enough to build an autonomous FPV system.
As seen above, I have connected the camera to the VTX (video transmitter), which
was powered directly from a 3S battery (12.6 V). The FPV test flight was
successful. Then, I found some space for further improvement.
So I experimented with additional components.  If you are about to build a quad from
the ground up, you may want to consider those. These parts make it much easier
to build a new copter.</p>

<h3 id="optional-components">Optional Components</h3>

<table>
<thead>
<tr>
<th>Part</th>
<th>Qty</th>
<th>Unit W. (g)</th>
<th>Price (EUR)</th>
</tr>
</thead>

<tbody>
<tr>
<td>F4-based flight controller + ESC stack</td>
<td>1</td>
<td>6 + 10*</td>
<td>65.70</td>
</tr>

<tr>
<td>Carbon fiber frame</td>
<td>1</td>
<td>107</td>
<td>28.07</td>
</tr>

<tr>
<td>Micro receiver</td>
<td>1</td>
<td>1.7</td>
<td>15.76</td>
</tr>

<tr>
<td>Pink propellers (5040)</td>
<td>4</td>
<td>?</td>
<td>11.27</td>
</tr>
</tbody>
</table>

<p><small>* Weight without connector wires.
</small></p>

<p>The flight controller<sup class="footnote-ref" id="fnref:fn-1"><a href="#fn:fn-1">1</a></sup> stack gave several advantages.  First, a more powerful
processor. Second, there was no need in additional UBEC, i.e. the flight
controller was connected to the battery. Third, the controller provided an OSD
(on-screen display) that could transmit flight information such as battery
level or link quality (RSSI, LQ) in real time. I also find it overall
convenient soldering VTX and camera wires directly to the flight
controller<sup class="footnote-ref" id="fnref:fn-2"><a href="#fn:fn-2">2</a></sup>. And don't forget included silicon vibration dampeners!
It is called a stack because of the flight controller and 4-in-1 ESC vertical
integration. This implies a standard way to place and connect the two.
Besides, the ESC already came with a XT60 connector to solder.</p>

<p>A carbon fiber frame instead of a 3D-printed one is a bit more ergonomic. For
instance, it already has standard emplacement for four M2 screws to attach the
VTX and a support for the VTX camera. Overall it results in a cleaner, slim
build.  Commercial frames are strong enough to support a light X-shape, whereas
the 3D-printed frame I used previously had a slightly bulky H-shape.
Surprisingly, the weight of the new frame was about the same (107g vs 110g).
Last but not least the commercial frame was already supplied with a set of screws
and standoffs.</p>

<p>The FS-iA10B receiver was quite bulky, so I have replaced it with a smaller
one. If you are choosing a transmitter-receiver system, then you may want to
consider a long-range TBS CrossFire or <a href="https://github.com/ExpressLRS/ExpressLRS">ExpressLRS</a>. The last one
is cheaper because it is open-source, by the way. In both cases you avoid the
problem of loosing the control because of the range. Believe me, I know how
it feels bathing a copter in a lake!</p>

<figure>

<img src="/img/quad/quad4.jpg" alt="F4 controller in a carbon fiber frame" width="640" />



<figcaption data-pre="Figure " data-post=":" >
  <h4></h4>
  <p>
    F4 controller in a carbon fiber frame
    
    
    
  </p> 
</figcaption>

</figure>

<p>There was no particular utility in pink propellers, but the older ones were
worn out and had to be replaced anyway. The four motors, batteries, the radio
transmitter, &quot;velcro&quot; fasteners, and motor-antivibration pads were taken from
the previous build. There was no separate UBEC part anymore.</p>

<p>This is how it feels to fly analog FPV. Signal interferences are visible,
but the latency is only 6ms!</p>

<figure>

<img src="/img/quad/fpv-06-02.gif" width="420" />


</figure>

<p>And here is a video:</p>


<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="//www.youtube-nocookie.com/embed/EKwPc1Qm5XM" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>


<p>What remains now is to mount a GoPro camera on top for high-resolution images.</p>

<h2 id="learn-more">Learn More</h2>

<ul>
<li><a href="https://fpv-freerider.itch.io/fpv-freerider">FPV FreeRider simulator</a></li>
<li><a href="https://www.youtube.com/watch?v=391D5dX7LKg">Lessons how to fly an FPV drone</a></li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:fn-1">Powered by Betaflight software.
 <a class="footnote-return" href="#fnref:fn-1"><sup>^</sup></a></li>
<li id="fn:fn-2">A pro tip: They recommend twisting the wires to reduce the interference.
 <a class="footnote-return" href="#fnref:fn-2"><sup>^</sup></a></li>
</ol>
</div>

    </div>

    


<div class="article-tags">
  
  <a class="label label-default" href="https://penkovsky.com/tags/diy/">DIY</a>
  
  <a class="label label-default" href="https://penkovsky.com/tags/drone/">Drone</a>
  
</div>




    
    
    <div class="article-widget">
      <div class="hr-light"></div>
      <h3>Related</h3>
      <ul>
        
        <li><a href="/homelab/quadcopter/">A Quadcopter From Scratch</a></li>
        
        <li><a href="/homelab/beatle/">3D Printing Tutorial: Designing a Micro Drone Frame</a></li>
        
        <li><a href="/homelab/self-driving-robot/">Making Your Self-Driving Robot</a></li>
        
        <li><a href="/homelab/raspi-ssh-over-wifi/">Connecting To Raspberry Pi Over WiFi</a></li>
        
      </ul>
    </div>
    

    

    


  </div>
</article>

<footer class="site-footer">
  <div class="container">

    

    <p class="powered-by">

      <a rel="me" href="https://sigmoid.social/@penkovsky">&copy; Bogdan Penkovsky 2023</a> &middot; 

      Powered by
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/haskell.min.js"></script>
        
      

      
      
    

    <script src="/js/hugo-academic.js"></script>
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/search.json";
      const i18n = {
        'placeholder': "Search...",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    <script src="/js/search.js"></script>
    

    
    

  </body>
</html>

